{% extends "base.html" %}

{% load i18n %}

{% block content %}
  <h2>{% trans "Users" %}</h2>

  {% if customuser_list %}
    <table class="large-12 columns">
      <thead>
        <tr>
          <th>{% trans "Email" %}</th>
          <th>{% trans "Name" %}</th>
          <th>{% trans "Status" %}</th>
          <th>{% trans "Role" %}</th>
          <th>{% trans "Actions" %}</th>
        </tr>
      </thead>

      <tbody>
        {% for user in customuser_list %}
          <tr>
            <td>
              {{ user.email }}
            </td>
            <td>
              {{ user.first_name }} {{ user.last_name }}
            </td>
            <td>
              {{ user.get_status }}
            </td>
            <td>
              {% if user.is_company_admin %}
                {% trans 'Administrator' %}
              {% else %}
                {% trans 'User' %}
              {% endif %}
            </td>
            <td>
              {% if request.user.is_company_admin and request.user != user %}
                {% if not user.activation_key %}
                  <a href="{% url 'accounts:toggle_status' user.pk %}">
                    {% if user.is_active %}
                      {% trans 'Disable' %}
                    {% else %}
                      {% trans 'Enable' %}
                    {% endif %}
                  </a>
                {% endif %}
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>

    </table>
  {% else %}
    <p>{% trans "No user yet" %}</p>
  {% endif %}

  <a href="{% url 'companysettings:invite_user' %}" class="button">{% trans "Create a user" %}</a>

{% endblock content %}
